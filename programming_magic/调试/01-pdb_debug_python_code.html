<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>深度学习python代码使用pdb调试 | 炼丹小本本</title>
    <meta name="generator" content="VuePress 1.9.8">
    
    <meta name="description" content=" ">
    
    <link rel="preload" href="/assets/css/0.styles.db5e3e28.css" as="style"><link rel="preload" href="/assets/js/app.41c20b16.js" as="script"><link rel="preload" href="/assets/js/2.cfef0441.js" as="script"><link rel="preload" href="/assets/js/31.04ec0ef5.js" as="script"><link rel="preload" href="/assets/js/7.38e4a3bd.js" as="script"><link rel="prefetch" href="/assets/js/10.438ffba0.js"><link rel="prefetch" href="/assets/js/11.fd7a25e3.js"><link rel="prefetch" href="/assets/js/12.472c8304.js"><link rel="prefetch" href="/assets/js/13.231022aa.js"><link rel="prefetch" href="/assets/js/14.3a0b5387.js"><link rel="prefetch" href="/assets/js/15.703eb145.js"><link rel="prefetch" href="/assets/js/16.38439872.js"><link rel="prefetch" href="/assets/js/17.a88e0ae0.js"><link rel="prefetch" href="/assets/js/18.6b330f3c.js"><link rel="prefetch" href="/assets/js/19.3d874196.js"><link rel="prefetch" href="/assets/js/20.e6b31528.js"><link rel="prefetch" href="/assets/js/21.81c87ba5.js"><link rel="prefetch" href="/assets/js/22.a11fe7df.js"><link rel="prefetch" href="/assets/js/23.67272fd4.js"><link rel="prefetch" href="/assets/js/24.f295c206.js"><link rel="prefetch" href="/assets/js/25.ad750fed.js"><link rel="prefetch" href="/assets/js/26.25237f95.js"><link rel="prefetch" href="/assets/js/27.b6ce1a78.js"><link rel="prefetch" href="/assets/js/28.8332dcc7.js"><link rel="prefetch" href="/assets/js/29.bdfff596.js"><link rel="prefetch" href="/assets/js/3.9d173ece.js"><link rel="prefetch" href="/assets/js/30.6290200d.js"><link rel="prefetch" href="/assets/js/4.c95c1cfc.js"><link rel="prefetch" href="/assets/js/5.c2955b74.js"><link rel="prefetch" href="/assets/js/6.e34411cc.js"><link rel="prefetch" href="/assets/js/8.a52f8de6.js"><link rel="prefetch" href="/assets/js/9.f1fde147.js">
    <link rel="stylesheet" href="/assets/css/0.styles.db5e3e28.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">炼丹小本本</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Notes" class="dropdown-title"><span class="title">Notes</span> <span class="arrow down"></span></button> <button type="button" aria-label="Notes" class="mobile-dropdown-title"><span class="title">Notes</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/basic_operations_of_linux/index.html" class="nav-link">
  《Linux基操》
</a></li><li class="dropdown-item"><!----> <a href="/programming_magic/index.html" class="nav-link">
  《编程奇技淫巧》
</a></li></ul></div></div> <a href="https://github.com/zfhxi/DLEnvSkills" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Notes" class="dropdown-title"><span class="title">Notes</span> <span class="arrow down"></span></button> <button type="button" aria-label="Notes" class="mobile-dropdown-title"><span class="title">Notes</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/basic_operations_of_linux/index.html" class="nav-link">
  《Linux基操》
</a></li><li class="dropdown-item"><!----> <a href="/programming_magic/index.html" class="nav-link">
  《编程奇技淫巧》
</a></li></ul></div></div> <a href="https://github.com/zfhxi/DLEnvSkills" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/programming_magic/" aria-current="page" class="sidebar-link">《02编程奇技淫巧》</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>调试</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/programming_magic/调试/01-pdb_debug_python_code.html" class="active sidebar-link">深度学习python代码使用pdb调试</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="深度学习python代码使用pdb调试"><a href="#深度学习python代码使用pdb调试" class="header-anchor">#</a> 深度学习python代码使用pdb调试</h1> <h2 id="简介"><a href="#简介" class="header-anchor">#</a> 简介</h2> <p>pdb 模块定义了一个交互式源代码调试器，用于 Python 程序。它支持在源码行间设置（有条件的）断点和单步执行，检视堆栈帧，列出源码列表，以及在任何堆栈帧的上下文中运行任意 Python 代码。它还支持事后调试，可以在程序控制下调用。</p> <h2 id="用法"><a href="#用法" class="header-anchor">#</a> 用法</h2> <h3 id="启用pdb的方式"><a href="#启用pdb的方式" class="header-anchor">#</a> 启用pdb的方式</h3> <p>非侵入式（不修改源码，在命令行中启用）</p> <div class="language-bash extra-class"><pre class="language-bash"><code>python3 <span class="token parameter variable">-m</span> pdb filename.py
</code></pre></div><p>侵入式（在需调试的源码中添加一行）</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">import</span> pdb<span class="token punctuation">;</span>pdb<span class="token punctuation">.</span>set_trace<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="pdb指令"><a href="#pdb指令" class="header-anchor">#</a> pdb指令</h3> <table><tr><td>操作</td> <td>指令</td> <td>备注</td></tr> <tr><td>查看源码list</td> <td>l: 查看当前位置前后11行源代码（多次会翻页）<br>
ll: （longlist）查看当前函数或框架的所有源代码<br>
l first: 列出first行周围11条代码<br>
l first,second: 列出first--second范围的代码</td> <td>当前位置在代码中会用--&gt;这个符号标出来</td></tr> <tr><td>添加断点break</td> <td>b: 列出当前所有断点，和断点执行到统计次数<br>
b lineno: 断点添加到哪一行<br>
b filename:lineno: 断点添加到某文件的某一行<br>
b functionname: 在函数执行的第一行设置断点
</td> <td></td></tr> <tr><td>添加临时断点
temporary break</td> <td>tbreak<br>
tbreak lineno<br>
tbreak filename:lineno<br>
tbreak functionname</td> <td>相关操作同b</td></tr> <tr><td>清除断点
clear</td> <td>cl: 清除所有断点，会提示确认（包括临时断点）<br>
cl filename:lineno: 清除指定文件行的断点<br>
cl bpnumber [bpnumber ...]: 清除指定序号的断点</td> <td>bpnumber 断点序号（多个以空格分隔）</td></tr> <tr><td>停用/激活/忽略断点</td> <td>disable bpnumber: 停用断点，和cl的区别是，断点依然存在，只是不启用<br>
enable bpnumber: 激活断点<br>
ignore bpnumber [count]: 为指定的断点编号设置忽略次数。</td> <td>如果省略 count，则忽略次数将设置为 0。</td></tr> <tr><td>条件断点</td> <td>condition bpnumber [condition]: 为断点设置一个新 condition，它是一个表达式，且它的计算值为 true 时断点才起作用。</td> <td>如果没有给出 condition，则删除现有条件，也就是将断点设为无条件。</td></tr> <tr><td>打印变量值
print</td> <td>p expression<br>
pp expression: pretty print</td> <td></td></tr> <tr><td>逐行调试</td> <td>s: （step）执行下一条命令<br>
n: （next）执行下一条语句<br>
r: （return）执行当前运行函数到结束</td> <td></td></tr> <tr><td>非逐行调试</td> <td>c: （continue）继续执行，直到遇到下一条断点<br>
unt lineno: （until）执行到指定行<br>
j lineno: （jump）直接跳转到指定行（被跳过的代码不执行）</td> <td></td></tr> <tr><td>查看函数参数
args</td> <td>a: 在函数中时打印当前函数的参数列表</td> <td></td></tr> <tr><td>打印变量类型</td> <td>whatis expression</td> <td></td></tr> <tr><td>启动交互式解释器</td> <td>interact: 启动一个python的交互式解释器，使用当前代码的全局命名空间（使用ctrl+d返回pdb）</td> <td></td></tr> <tr><td>打印堆栈信息
where</td> <td>w: 打印堆栈信息，最新的帧在最底部。箭头表示当前帧。</td> <td></td></tr> <tr><td>退出pdb</td> <td>q</td> <td></td></tr></table> <h2 id="参考"><a href="#参考" class="header-anchor">#</a> 参考</h2> <p><a href="https://zhuanlan.zhihu.com/p/37294138" target="_blank" rel="noopener noreferrer">https://zhuanlan.zhihu.com/p/37294138<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://docs.python.org/zh-cn/3/library/pdb.html" target="_blank" rel="noopener noreferrer">https://docs.python.org/zh-cn/3/library/pdb.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://www.cnblogs.com/klb561/p/12057436.html" target="_blank" rel="noopener noreferrer">https://www.cnblogs.com/klb561/p/12057436.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/zfhxi/DLEnvSkills/edit/main/docs/programming_magic/调试/01-pdb_debug_python_code.md" target="_blank" rel="noopener noreferrer">Edit on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div id="vcomments"></div> <!----> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.41c20b16.js" defer></script><script src="/assets/js/2.cfef0441.js" defer></script><script src="/assets/js/31.04ec0ef5.js" defer></script><script src="/assets/js/7.38e4a3bd.js" defer></script>
  </body>
</html>
