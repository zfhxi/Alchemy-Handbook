(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{291:function(a,t,s){"use strict";s.r(t);var n=s(10),e=Object(n.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"校园内网联网"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#校园内网联网"}},[a._v("#")]),a._v(" 校园内网联网")]),a._v(" "),t("h2",{attrs:{id:"哆点连接校园网"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#哆点连接校园网"}},[a._v("#")]),a._v(" 哆点连接校园网")]),a._v(" "),t("h3",{attrs:{id:"啰嗦的介绍"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#啰嗦的介绍"}},[a._v("#")]),a._v(" 啰嗦的介绍")]),a._v(" "),t("p",[a._v("首先你需要有一个校园网账号。")]),a._v(" "),t("p",[a._v("可以参考"),t("a",{attrs:{href:"https://github.com/hisaner/Drcom-Padavan",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://github.com/hisaner/Drcom-Padavan"),t("OutboundLink")],1),a._v("，使用curl发送POST请求来登录校园网。")]),a._v(" "),t("p",[a._v("也可以参考"),t("a",{attrs:{href:"https://github.com/mchome/dogcom",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://github.com/mchome/dogcom"),t("OutboundLink")],1),a._v("，编译一份登录程序，然后修改配置文件以适配你自己的学校校园网。")]),a._v(" "),t("h3",{attrs:{id:"直接食用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#直接食用"}},[a._v("#")]),a._v(" 直接食用")]),a._v(" "),t("ol",[t("li",[a._v("我已经编译好了一份可执行的登录程序，***"),t("a",{attrs:{href:"https://gitee.com/julianchern/arch/raw/master/pkgs/drcom-for-Linux.tar.bz2",target:"_blank",rel:"noopener noreferrer"}},[a._v("下载"),t("OutboundLink")],1),a._v("***")]),a._v(" "),t("li",[a._v("将下载的"),t("code",[a._v("drcom.tar.bz2")]),a._v("上传到服务器解压，如解压到家目录"),t("code",[a._v("tar xjvf drcom.tar.bz2 -C $HOME")]),a._v("。（如果不知道如何上传，见《15-PC和服务器间进行文件传输》）")]),a._v(" "),t("li",[a._v("注意解压后得到的文件夹为"),t("code",[a._v(".drcom")]),a._v("，是一个隐藏文件夹，执行"),t("code",[a._v("ls -a")]),a._v("查看到该文件夹。这是为了考虑隐私问题，防止账号密码被其他人查看，因此你甚至还可以对"),t("code",[a._v(".drcom")]),a._v("文件夹设置仅自己账户可读写执行权限："),t("code",[a._v("chmod 700 -R .drcom")])]),a._v(" "),t("li",[a._v("先修改"),t("code",[a._v("drcom.conf")]),a._v("中的账户和密码，然后赋予"),t("code",[a._v("dogcom")]),a._v("、"),t("code",[a._v("dr.sh")]),a._v("可执行权限（"),t("code",[a._v("chmod u+x dogcom")]),a._v("、"),t("code",[a._v("chmod u+x dr.sh")]),a._v("），最后运行"),t("code",[a._v("./dr.sh")]),a._v("。")]),a._v(" "),t("li",[a._v("你可能需要再开一个窗口完成其他任务，或者ctrl+C直接终端此次联网。")])]),a._v(" "),t("p",[a._v("综上，即：")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("tar")]),a._v(" xjvf drcom.tar.bz2 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-C")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("$HOME")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("chmod")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("700")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-R")]),a._v(" .drcom\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("$HOME")]),a._v("/.drcom\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("chmod")]),a._v(" u+x dogcom\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("chmod")]),a._v(" u+x dr.sh\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("vi")]),a._v(" drcom.conf "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 修改账户和密码")]),a._v("\n./dr.sh\n")])])]),t("h2",{attrs:{id:"连接pptp协议vpn-限管理员操作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#连接pptp协议vpn-限管理员操作"}},[a._v("#")]),a._v(" 连接PPTP协议VPN（限管理员操作）")]),a._v(" "),t("p",[a._v("首先你需要有一个vpn账号。")]),a._v(" "),t("p",[a._v("若为Debian系列：")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" pptp-linux\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" route\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" net-tools\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" pptpsetup "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--create")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("vpn_name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--server")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("vpn_ip"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--username")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("vpn_usrname"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--password")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("vpn_passwd"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--encrypt")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" pon "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("vpn_name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" updetach persist\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" route "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("add")]),a._v(" default dev ppp0\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" www.baidu.com\n")])])]),t("p",[a._v("如果是archlinux")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" pacman "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-S")]),a._v(" pptpclient,curl\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" pptpsetup "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--create")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("vpn_name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--server")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("vpn_ip"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--username")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("vpn_usrname"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--password")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("vpn_passwd"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--encrypt")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" pon "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("vpn_name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" updetach persist\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("ip")]),a._v(" route "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("add")]),a._v(" default dev ppp0 "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#1）可能已经存在默认路由，可以ip route del default 删除原先的默认路由。")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" www.baidu.com\n")])])]),t("p",[a._v("以后每次连接vpn：")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" pon "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("vpn_name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" updetach persist\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("ip")]),a._v(" route "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("add")]),a._v(" default dev ppp0 \n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" www.baidu.com\n")])])]),t("p",[a._v("关闭vpn连接：")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" poff "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("vpn_name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 下面的操作看情况使用，在archlinux上跳过如下，直接systemctl restart systemd-networkd")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("ip")]),a._v(" route del default dev ppp0\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("ip")]),a._v(" route "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("add")]),a._v(" default gw "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("网关"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("网卡设备名"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# or ip route add default via <网关>")]),a._v("\n")])])]),t("p",[a._v("修改vpn密码，"),t("code",[a._v("vim /etc/ppp/chap-secrets")]),a._v(" ，见"),t("a",{attrs:{href:"https://www.codenong.com/js078ac704c92c/",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://www.codenong.com/js078ac704c92c/"),t("OutboundLink")],1)]),a._v(" "),t("p",[a._v("vpn的删除：")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# route")]),a._v("\nKernel IP routing table\nDestination     Gateway         Genmask         Flags Metric Ref    Use Iface\ndefault         "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("10")]),a._v(".xx.101.1    "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0.0")]),a._v(".0.0         UG    "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v("      "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v("        "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v(" enp8s0f1\n"),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("10")]),a._v(".xx.101.0    "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0.0")]),a._v(".0.0         "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("255.255")]),a._v(".255.0   U     "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v("      "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v("        "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v(" enp8s0f1\n"),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("172.17")]),a._v(".0.0      "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0.0")]),a._v(".0.0         "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("255.255")]),a._v(".0.0     U     "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v("      "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v("        "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v(" docker0\nxx.1x8.1x6.xx  "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("10")]),a._v(".xx6.101.1    "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("255.255")]),a._v(".255.255 UGH   "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v("      "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v("        "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v(" enp8s0f1\n")])])]),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("route del "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-net")]),a._v(" xx.1x8.1x6.xx netmask "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("255.255")]),a._v(".255.255\npptpsetup "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--delete")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("vpn_label"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n")])])])])}),[],!1,null,null,null);t.default=e.exports}}]);