(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{297:function(t,a,s){"use strict";s.r(a);var e=s(10),n=Object(e.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"linux非root用户安装一些包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#linux非root用户安装一些包"}},[t._v("#")]),t._v(" Linux非root用户安装一些包")]),t._v(" "),a("p",[t._v("最近常用公用服务器运行代码，作为强迫症重度患者，首先配置工作环境，需要很多包，但没权限。因此，小探究了下，目前主要知道如下两种方案，一些场景下需结合使用。")]),t._v(" "),a("h2",{attrs:{id:"编译安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#编译安装"}},[t._v("#")]),t._v(" 编译安装")]),t._v(" "),a("p",[t._v("如果会编译安装，那么无需root权限也可安装对应的软件包")]),t._v(" "),a("p",[t._v("常用操作流程：")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clone xxx.git "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("or "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v(" xxx.tar.gz "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("tar")]),t._v(" xvf xxx.tar.gz"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" xxx\n./configure "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--prefix")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("path"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v("\n")])])]),a("p",[t._v("下面是一些示例：")]),t._v(" "),a("p",[a("a",{attrs:{href:"http://ijinjay.github.io/blog/2016-04/%E9%9D%9E%E7%89%B9%E6%9D%83%E7%94%A8%E6%88%B7%E5%AE%89%E8%A3%85zsh%E5%92%8COh-My-Zsh.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("非特权用户安装zsh和Oh-My-Zsh"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://invisible-island.net/ncurses/announce.html#h3-documentation",target:"_blank",rel:"noopener noreferrer"}},[t._v("Announcing ncurses 6.2"),a("OutboundLink")],1)]),t._v(" "),a("h2",{attrs:{id:"debian包提取-只适用于debian-ubuntu"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#debian包提取-只适用于debian-ubuntu"}},[t._v("#")]),t._v(" Debian包提取（只适用于Debian/Ubuntu）")]),t._v(" "),a("p",[t._v("有时也可以通过"),a("code",[t._v("apt-get")]),t._v("来下载debian仓库里的预编译二进制包，然后解压，放进对应环境变量中")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" download "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("pkg-name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 获取预编译的二进制包")]),t._v("\ndpkg "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-x")]),t._v(" package.deb "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("pkg_dir"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 解压获取的包")]),t._v("\n")])])]),a("h2",{attrs:{id:"实践"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#实践"}},[t._v("#")]),t._v(" 实践")]),t._v(" "),a("p",[t._v("安装tmuxv3.2版本并用以覆盖服务器中的低版本2.x：")]),t._v(" "),a("ol",[a("li",[a("p",[a("a",{attrs:{href:"https://github.com/tmux/tmux",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/tmux/tmux"),a("OutboundLink")],1),t._v(" 中列出了编译前需要的依赖")]),t._v(" "),a("ul",[a("li",[t._v("libevent 2.x")]),t._v(" "),a("li",[t._v("nucrses")])])]),t._v(" "),a("li",[a("p",[a("code",[t._v("apt-get download libevent-dev")]),t._v("获取仓库中的预编译包"),a("code",[t._v("libevent-dev_2.0.21-stable-3_amd64.deb")])])]),t._v(" "),a("li",[a("p",[a("code",[t._v("dpkg -x libevent-dev_2.0.21-stable-3_amd64.deb ~/.apps/libevent_dev")])])]),t._v(" "),a("li",[a("p",[t._v("终端添加环境变量")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#gcc找到头文件的路径                                                                                               ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("C_INCLUDE_PATH")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$C_INCLUDE_PATH")]),t._v(":/home/chenzhongming/.local/include\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" C_INCLUDE_PATH\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# #g++找到头文件的路径")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# CPLUS_INCLUDE_PATH=$CPLUS_INCLUDE_PATH:/usr/include/libxml2:/MyLib")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# export CPLUS_INCLUDE_PATH")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#  ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#  #gcc和g++在编译的链接(link)阶段查找库文件的目录列表")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("LIBRARY_PATH")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$LIBRARY_PATH")]),t._v(":/home/chenzhongming/.local/lib\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" LIBRARY_PATH\n")])])]),a("p",[t._v("这样编译时，编译器就能按照环境变量中的路径去寻找相关的头和库")]),t._v(" "),a("p",[t._v("此处参考："),a("a",{attrs:{href:"https://blog.csdn.net/liuxiao723846/article/details/97617681",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://blog.csdn.net/liuxiao723846/article/details/97617681"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("注：这里使用"),a("code",[t._v("libevent-dev")]),t._v("，而不是"),a("code",[t._v("libevent")]),t._v("的原因是，前者提供了后者不带有的头文件等，更适用于编译")]),t._v(" "),a("p",[t._v("有时还需要添加运行时动态库：")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("LD_LIBRARY_PATH")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$NCURSES_HOME")]),t._v("/lib:"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$LD_LIBRARY_PATH")]),t._v("\n")])])])]),t._v(" "),a("li",[a("p",[a("code",[t._v("./configure --prefix=/home/xxxx/.apps/mytmux")]),t._v(" 然后"),a("code",[t._v("make &make install")])])]),t._v(" "),a("li",[a("p",[t._v("将bin目录添加到path：")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("PATH")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/home/xxxx/.apps/mytmux/bin:"),a("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("$PATH")]),t._v("\n")])])]),a("p",[t._v("注：为了覆盖自带的tmux，所以bin目录在"),a("code",[t._v("$PATH")]),t._v("前。")])])]),t._v(" "),a("h2",{attrs:{id:"参考"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[t._v("#")]),t._v(" 参考")]),t._v(" "),a("p",[a("a",{attrs:{href:"http://ijinjay.github.io/blog/2016-04/%E9%9D%9E%E7%89%B9%E6%9D%83%E7%94%A8%E6%88%B7%E5%AE%89%E8%A3%85zsh%E5%92%8COh-My-Zsh.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://ijinjay.github.io/blog/2016-04/非特权用户安装zsh和Oh-My-Zsh.html"),a("OutboundLink")],1),a("br"),t._v(" "),a("a",{attrs:{href:"https://stickcui.github.io/2019/05/07/Linux%E4%B8%8B%E9%9D%9Eroot%E7%94%A8%E6%88%B7%E5%AE%89%E8%A3%85%E8%BD%AF%E4%BB%B6%E8%87%B3%E6%9C%AC%E5%9C%B0/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://stickcui.github.io/2019/05/07/Linux下非root用户安装软件至本地/"),a("OutboundLink")],1),a("br"),t._v(" "),a("a",{attrs:{href:"https://blog.csdn.net/liuxiao723846/article/details/97617681",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://blog.csdn.net/liuxiao723846/article/details/97617681"),a("OutboundLink")],1)])])}),[],!1,null,null,null);a.default=n.exports}}]);