(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{288:function(a,t,s){"use strict";s.r(t);var e=s(10),r=Object(e.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"linux静态ip设定"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#linux静态ip设定"}},[a._v("#")]),a._v(" Linux静态IP设定")]),a._v(" "),t("blockquote",[t("p",[a._v("注：下面教程仅针对arch Linux，其他发行版待后续更新")])]),a._v(" "),t("p",[a._v("搬运"),t("a",{attrs:{href:"https://zmcdbp.com/archlinux-static-ip/",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://zmcdbp.com/archlinux-static-ip/"),t("OutboundLink")],1)]),a._v(" "),t("h2",{attrs:{id:"移除networkmanager"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#移除networkmanager"}},[a._v("#")]),a._v(" 移除networkmanager")]),a._v(" "),t("p",[a._v("如果你装了networkmanager这个包来管理网络连接，即使设定了静态ip，也会变成动态分配ip。所以需要先移除相关包：")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" pacman "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-Rsn")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")]),a._v("pacman "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-Qsq")]),a._v(" networkmanager"),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")])]),a._v(" network-manager-applet\n")])])]),t("h2",{attrs:{id:"配置静态ip"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置静态ip"}},[a._v("#")]),a._v(" 配置静态ip")]),a._v(" "),t("ol",[t("li",[t("p",[a._v("先使用"),t("code",[a._v("ip addr")]),a._v("查看自己的网卡设备，比如"),t("code",[a._v("enp2s0")])])]),a._v(" "),t("li",[t("p",[t("code",[a._v("vi /etc/systemd/network/10-static-enp2s0.network")]),a._v("，来创建配置：")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("Match"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("Name")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("enp2s0\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("Network"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("Address")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("10.26")]),a._v(".xxx.xxx/24\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("Gateway")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("10.26")]),a._v(".xxx.1\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("DNS")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("8.8")]),a._v(".8.8 "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("114.114")]),a._v(".114.114\n")])])])]),a._v(" "),t("li",[t("p",[t("code",[a._v("systemctl enable —now systemd-networkd")]),a._v("，即可实现绑定")])]),a._v(" "),t("li",[t("p",[a._v("再输入"),t("code",[a._v("ip addr")]),a._v("查看是否绑定成功")])])]),a._v(" "),t("h2",{attrs:{id:"更改静态ip"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#更改静态ip"}},[a._v("#")]),a._v(" 更改静态ip")]),a._v(" "),t("ol",[t("li",[a._v("首先获取目标ip。（某些场景下，可以通过笔记本电脑插网线获取一个动态分配的ip，记录改动态ip，然后拔掉网线）。")]),a._v(" "),t("li",[t("code",[a._v("vi /etc/systemd/network/10-static-enp2s0.network")])]),a._v(" "),t("li",[a._v("修改Address和Gateway，参照上面创建配置得内容，修改xxx")]),a._v(" "),t("li",[t("code",[a._v("systemctl restart systemd-networkd")]),a._v(" ，重启服务，实现更改。")]),a._v(" "),t("li",[t("code",[a._v("ip addr")]),a._v(" 查看ip是否更改。")])]),a._v(" "),t("h2",{attrs:{id:"测试"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#测试"}},[a._v("#")]),a._v(" 测试")]),a._v(" "),t("p",[a._v("执行：")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" www.baidu.com\n")])])]),t("p",[a._v("如果正常显示返回信息，则说明配置成功。")]),a._v(" "),t("p",[a._v("若返回错误："),t("code",[a._v("curl: (6) Couldn’t resolve host ‘xxxxxx’")]),a._v("，则可能是"),t("code",[a._v("/etc/resolv.conf")]),a._v("中DNS配置问题。")])])}),[],!1,null,null,null);t.default=r.exports}}]);